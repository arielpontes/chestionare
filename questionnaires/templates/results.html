{% extends "base.html" %}

{% block title %}Results{% endblock %}
{% block h1 %}You finished the questionnaire "{{ outcome.questionnaire.name }}"{% endblock %}

{% block content %}

<h2>You scored {{ outcome.questionnaire.score }}: {{ outcome.title }}</h2>
<div>
	{% if outcome.alternative_outcome == outcome %}
		<p>If you had answered the following questions differently…</p>
	{% else %}
		<p>If only you had answered the following questions differently…</p>
	{% endif %}
	
	{% if outcome.alternative_outcome %}
	{% endif %}
	{% for question in outcome.alternative_solution %}
		<ul>
			<li>
				{{ question }}
				<ul>
					{% if question.post_selected_alternatives %}
					<p>You could have selected: </p>
						{% for alternative in question.post_selected_alternatives %}
						<li>
							{{ alternative }}
							{% if alternative.score > 0 %}
							<span style="color: green;">
							{% else %}
							<span style="color: red;">
							{% endif %}
							({{ alternative.formatted_score }})
							</span>
						</li>
						{% endfor %}
					{% endif %}
					{% if question.removed_alternatives %}
					<p>You could NOT have selected: </p>
						{% for alternative in question.removed_alternatives %}
						<li>
							{{ alternative }}
							{% if alternative.score > 0 %}
							<span style="color: green;">
							{% else %}
							<span style="color: red;">
							{% endif %}
							({{ alternative.formatted_score }})
							</span>
						</li>
						{% endfor %}
					{% endif %}
				</ul>
			</li>
		</ul>
	{% endfor %}
	{% if outcome.alternative_outcome == outcome %}
		<p>Then you would have scored <b>{{ outcome.would_have_got }}</b></p>
		<p>But still… <b>{{ outcome.alternative_outcome.title }}</b></p>
	{% else %}
		<p>Then you would have scored <b>{{ outcome.would_have_got }} – {{ outcome.alternative_outcome.title }}</b></p>
	{% endif %}
</div>
{% endblock %}